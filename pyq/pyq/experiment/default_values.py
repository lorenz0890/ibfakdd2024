from typing import Dict, List, Union

CLASS_NAME_TYPE = Union[str, Dict[str, str], Dict[str, List[str]]]
LISTED_CLASS_NAME_TYPE = Union[List[CLASS_NAME_TYPE], CLASS_NAME_TYPE]
DEFAULT_CLASS_NAME = "class_name"

UNBUILD_CLASS_FLAG = "$"

X_NAME = "x"
Y_NAME = "y"

DEFAULT_DATASET_NAME = "dataset"
DEFAULT_DATALOADER_NAME = "dataloader"
DEFAULT_KFOLD_NAME = "kfold"
DEFAULT_MODEL_EDITOR_NAME = "model_editor"
DEFAULT_MODEL_NAME = "model"
DEFAULT_TEACHER_MODEL_NAME = "teacher_model"
DEFAULT_TEACHER_LOSSES_NAME = "teacher_losses"
DEFAULT_LOSS_COEFFICIENT_NAME = "loss_coefficient"
DEFAULT_LAYER_WRAPPER_NAME = "layer_wrapper"
DEFAULT_ACTIVATION_WRAPPER_NAME = "activation_wrapper"
DEFAULT_PARSER_NAME = "parser"
DEFAULT_TASK_NAME = "task"
DEFAULT_LOSSES_NAME = "losses"
DEFAULT_Y_TRANSFORM_NAME = "y_transform"
DEFAULT_METRICS_NAME = "metrics"
DEFAULT_OPTIMIZER_NAME = "optimizer"
DEFAULT_SCHEDULER_NAME = "scheduler"
DEFAULT_TRAINING_LOOP_NAME = "training_loop"

# model editor arguments
ARGUMENTS_NAMES_NAME = "argument_names_to_be_inserted_in_forward"
INSTANCES_NAMES_NAME = "instance_names_as_regex_to_be_updated_in_forward"
CODE_AS_STRING_NAME = "lines_of_code_to_be_inserted_inside_forward"
UPDATE_NESTED_INSTANCE_NAME = "update_nested_instance"

YAML_NAMES = (
    DEFAULT_DATASET_NAME,
    DEFAULT_DATALOADER_NAME,
    DEFAULT_KFOLD_NAME,
    DEFAULT_MODEL_NAME,
    DEFAULT_TEACHER_MODEL_NAME,
    DEFAULT_TEACHER_LOSSES_NAME,
    DEFAULT_LOSS_COEFFICIENT_NAME,
    DEFAULT_MODEL_EDITOR_NAME,
    DEFAULT_LAYER_WRAPPER_NAME,
    DEFAULT_ACTIVATION_WRAPPER_NAME,
    DEFAULT_PARSER_NAME,
    DEFAULT_TASK_NAME,
    DEFAULT_LOSSES_NAME,
    DEFAULT_Y_TRANSFORM_NAME,
    DEFAULT_METRICS_NAME,
    DEFAULT_OPTIMIZER_NAME,
    DEFAULT_SCHEDULER_NAME,
    DEFAULT_TRAINING_LOOP_NAME,
)

DEFAULT_STATE_DICT_NAME = "state_dict"
PYQ_EXPERIMENTS_DIRECTORY = "experiments"
PYLIGHTNING_LOGS_DIR_NAME = "lightning_logs"
PYQ_LOGS_DIR_NAME = "pyq_logs"

TORCH_MODEL_FILE_NAME = "torch_model"
PYQ_YAML_FILE_NAME = "pyq_configuration"
PYQ_MODEL_FILE_NAME = "pyq_model"
PYQ_OPTIMIZER_FILE_NAME = "pyq_optimizer"
PYQ_SCHEDULER_FILE_NAME = "pyq_scheduler"
PYLIGHTNING_CHECKPOINT_FILE_NAME = "trainer_checkpoint"


TORCH_MODEL_EXTENSION = ".pth"
PYQ_TORCH_MODEL_EXTENSION = ".pyq"
JIT_EXTENSION = ".jit"
TORCH_OPTIMIZAR_EXTENSION = ".opt_pth"
TORCH_SCHEDULER_EXTENSION = ".sch_pth"
YAML_EXTENSION = ".yaml"
PYLIGHTNING_CHECKPOINT_EXTENSION = ".ckpt"
